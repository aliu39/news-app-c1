{"version":3,"sources":["components/Article.js","App.js","serviceWorker.js","index.js"],"names":["getDate","publishedAt","sliceTo","indexOf","slice","Article","props","saveArticle","setState","cached","state","img_src","info","urlToImage","source","name","title","description","url","content","date","fullData","tab","className","src","this","alt","align","href","target","rel","onClick","React","Component","App","composeUrl","PROXY","US","currPage","category","keyword","getNews","h","Headers","append","reqUrl","req","Request","method","headers","mode","fetch","then","response","ok","json","Error","status","jsonData","toggleTab","newCache","updateCache","totalCount","totalResults","articleData","newRefs","i","articles","length","push","createRef","refs","requests","cache","scrollRef","current","scrollTop","catch","err","console","log","message","seen","Set","numEntries","article","add","data","has","clearCache","categoryBtn","cat","pageDecr","pageIncr","Math","ceil","toggleCountry","handleChange","event","formValue","value","handleSubmit","preventDefault","clearKeyword","onSubmit","type","style","marginLeft","marginRight","onChange","ref","map","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"sNAOA,SAASA,EAAQC,GAEf,IAAIC,EAAUD,EAAYE,QAAQ,KAClC,OAAID,GAAW,EACND,EAAYG,MAAM,EAAGF,GAErBD,E,IAOUI,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA2BRC,YAAc,WACZ,EAAKC,SAAS,CACZC,QAAQ,KA3BV,EAAKC,MAAQ,CACXC,QAASL,EAAMM,KAAKC,WACpBC,OAAQR,EAAMM,KAAKE,OAAOC,KAC1BC,MAAOV,EAAMM,KAAKI,MAClBC,YAAaX,EAAMM,KAAKK,YACxBC,IAAKZ,EAAMM,KAAKM,IAChBC,QAASb,EAAMM,KAAKO,QACpBC,KAAMpB,EAAQM,EAAMM,KAAKX,aACzBoB,SAAUf,EAAMM,KAChBH,QAAQ,EACRa,IAAKhB,EAAMgB,KAbI,E,qDAoCjB,OACE,sBAAKC,UAAU,UAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKC,IAA2B,MAAtBC,KAAKf,MAAMC,QAAkBc,KAAKf,MAAMC,QAzD1D,2FAyD4Ee,IAAI,qBAE1E,sBAAKH,UAAU,kBAAf,UACE,8BACE,4BAAIE,KAAKf,MAAMM,MAAQ,MAAQS,KAAKf,MAAMI,OAAS,MAAQW,KAAKf,MAAMU,OADxE,IACkF,uBAC/EK,KAAKf,MAAMO,YAFd,IAE2B,0BAE3B,4BACGQ,KAAKf,MAAMS,UAEd,oBAAGQ,MAAM,QAAT,UACE,mBAAGC,KAAMH,KAAKf,MAAMQ,IAAKW,OAAO,SAASC,IAAI,aAA7C,8BADF,IAEyB,uBACtBL,KAAKf,MAAMY,IAAM,KAChB,wBAAQS,QAASN,KAAKlB,YAAtB,+B,GAtDuByB,IAAMC,WCuT5BC,E,kDAjUb,WAAY5B,GAAQ,IAAD,8BACjB,cAAMA,IAkBR6B,WAAa,WACX,IAAIjB,EACFkB,oHAIC,EAAK1B,MAAM2B,GAAK,cAAgB,IAJjCD,qBAQA,EAAK1B,MAAM4B,SACX,aACA,EAAK5B,MAAM6B,SAIb,MAH2B,KAAvB,EAAK7B,MAAM8B,UACbtB,GAAO,MAAQ,EAAKR,MAAM8B,SAErBtB,GAnCU,EAyCnBuB,QAAU,WAER,GAA4B,KAAxB,EAAK/B,MAAM6B,SAAiB,CAC9B,IAAIG,EAAI,IAAIC,QACZD,EAAEE,OAAO,SAAU,oBACnB,IAAIC,EAAS,EAAKV,aACdW,EAAM,IAAIC,QAAQF,EAAQ,CAC5BG,OAAQ,MACRC,QAASP,EACTQ,KAAM,SAGRC,MAAML,GACHM,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAAM,0BAA4BH,EAASI,WAGxDL,MAAK,SAAAM,GAEA,EAAKhD,MAAMY,KACb,EAAKqC,YASP,IAPA,IAAIC,EAAW,EAAKC,cAGhBC,EAAaJ,EAASK,aACtBC,EAAc,GACdC,EAAU,GAELC,EAAI,EAAGA,EAAIR,EAASS,SAASC,OAAQF,IAC5CF,EAAYK,KAAKX,EAASS,SAASD,IACnCD,EAAQI,KAAKrC,IAAMsC,aAErB,EAAK9D,SACH,CACE2D,SAAUH,EACVO,KAAMN,EACNF,aAAcD,EACdU,SAAU,EAAK9D,MAAM8D,SAAW,EAChCC,MAAOb,IAET,kBAAO,EAAKc,UAAUC,QAAQC,UAAY,QAG7CC,OAAM,SAAAC,GACLC,QAAQC,IAAI,UAAWF,EAAIG,cAzFhB,EAgGnBpB,YAAc,WACZ,GAAI,EAAKnD,MAAMY,IACb,OAAO,EAAKZ,MAAM+D,MAMlB,IAJA,IAAIb,EAAW,GACXsB,EAAO,IAAIC,IACXC,EAAa,EAGXlB,EAAI,EACRkB,EA/GS,IA+GgBlB,EAAI,EAAKxD,MAAM6D,KAAKH,OAC7CF,IACA,CACA,IAAImB,EAAU,EAAK3E,MAAM6D,KAAKL,GAAGS,QAC7BU,EAAQ3E,MAAMD,SAChBmD,EAASS,KAAKgB,EAAQ3E,MAAMW,UAC5B6D,EAAKI,IAAID,EAAQ3E,MAAMQ,KACvBkE,KAIJ,IACE,IAAIlB,EAAI,EACRkB,EA5HS,IA4HgBlB,EAAI,EAAKxD,MAAM+D,MAAML,OAC9CF,IACA,CACA,IAAIqB,EAAO,EAAK7E,MAAM+D,MAAMP,GACxBgB,EAAKM,IAAID,EAAKrE,OAIhB0C,EAASS,KAAKkB,GACdH,KAGJ,OAAOxB,GAnIQ,EAuInB6B,WAAa,WACP,EAAK/E,MAAMY,KACb,EAAKd,SAAS,CACZ2D,SAAU,MA1IG,EAgJnBR,UAAY,WACV,IAAIC,EAAW,EAAKC,cACpB,EAAKrD,SAAS,CACZ2D,SAAUP,EACVtC,KAAM,EAAKZ,MAAMY,IACjBmD,MAAO,EAAK/D,MAAMyD,YArJH,EA0JnBuB,YAAc,SAAAC,GACZ,EAAKnF,SACH,CACE+B,SAAUoD,EACVrD,SAAU,EACVE,QAAS,IAEX,EAAKC,UAjKU,EAqKnBmD,SAAW,WACL,EAAKlF,MAAM4B,SAAW,GACxB,EAAK9B,SACH,CACE8B,SAAU,EAAK5B,MAAM4B,SAAW,GAElC,EAAKG,UA3KQ,EAgLnBoD,SAAW,WACL,EAAKnF,MAAM4B,SAAWwD,KAAKC,KAAK,EAAKrF,MAAMqD,aAtLlC,KAuLX,EAAKvD,SACH,CACE8B,SAAU,EAAK5B,MAAM4B,SAAW,GAElC,EAAKG,UAtLQ,EA2LnBuD,cAAgB,WACd,EAAKxF,SACH,CACE6B,IAAK,EAAK3B,MAAM2B,IAElB,EAAKI,UAhMU,EAqMnBwD,aAAe,SAAAC,GACb,EAAK1F,SAAS,CAAE2F,UAAWD,EAAMrE,OAAOuE,SAtMvB,EAyMnBC,aAAe,SAAAH,GACgB,KAAzB,EAAKxF,MAAMyF,WACb,EAAK3F,SACH,CACEgC,QAAS,EAAK9B,MAAMyF,UACpBA,UAAW,GACX7D,SAAU,GAEZ,EAAKG,SAGTyD,EAAMI,kBApNW,EAuNnBC,aAAe,WACb,EAAK/F,SAAS,CAAEgC,QAAS,IAAM,EAAKC,UAtNpC,EAAK/B,MAAQ,CACXyD,SAAU,GACVI,KAAM,GACNjD,KAAK,EACLmD,MAAO,GACPlC,SAAU,GACVC,QAAS,GACTH,IAAI,EACJC,SAAU,EACV6D,UAAW,GACXpC,aAAc,EACdS,SAAU,GAEZ,EAAKE,UAAY1C,IAAMsC,YAfN,E,qDA2NT,IAAD,OACP,OACE,gCAEE,sBAAK3C,MAAM,SAAX,UACE,wBACEJ,UAAU,qBACVQ,QAAS,kBAAM,EAAK2D,YAAY,kBAFlC,2BAMA,wBACEnE,UAAU,qBACVQ,QAAS,kBAAM,EAAK2D,YAAY,WAFlC,oBAMA,wBACEnE,UAAU,qBACVQ,QAAS,kBAAM,EAAK2D,YAAY,eAFlC,2BAQF,sBAAKnE,UAAU,aAAf,UAEE,sBAAKA,UAAU,WAAf,UACGE,KAAKf,MAAMY,KAAqC,IAAxBG,KAAKf,MAAM4B,SAAlB,KAChB,wBAAQP,QAASN,KAAKmE,SAAUrE,UAAU,SAA1C,kBAIDE,KAAKf,MAAMY,KAAaG,KAAKf,MAAM4B,UAClCwD,KAAKC,KAAKtE,KAAKf,MAAMqD,aAlQlB,IAiQa,KAEhB,wBAAQhC,QAASN,KAAKoE,SAAUtE,UAAU,SAA1C,qBAOJ,sBAAKA,UAAU,YAAf,UACE,uBAAMiF,SAAU/E,KAAK4E,aAArB,UACE,uBACEI,KAAK,OACLC,MAAO,CAAEC,WAAY,GAAIC,YAAa,IACtCR,MAAO3E,KAAKf,MAAMyF,UAClBU,SAAUpF,KAAKwE,eAEjB,uBAAOQ,KAAK,SAASL,MAAM,gBAC3B,wBAAQrE,QAASN,KAAK8E,aAAtB,2BACA,wBAAQxE,QAASN,KAAKuE,cAAtB,SACGvE,KAAKf,MAAM2B,GAAK,QAAU,YAG9BZ,KAAKf,MAAM8B,QAdd,IAcuB,0BAIvB,sBAAKjB,UAAU,MAAf,UACGE,KAAKf,MAAMY,IACV,wBAAQS,QAASN,KAAKgE,WAAYlE,UAAU,SAA5C,mBAGE,KACJ,wBAAQQ,QAASN,KAAKkC,UAAWpC,UAAU,SAA3C,SACGE,KAAKf,MAAMY,IAAM,iBAAmB,yBAM3C,sBAAKC,UAAU,aAAauF,IAAKrF,KAAKiD,UAAtC,UACkC,IAA/BjD,KAAKf,MAAMyD,SAASC,OACnB,6BACE,4BAC2B,IAAxB3C,KAAKf,MAAM8D,SACR,4BACA/C,KAAKf,MAAMY,IACX,oBACA,uBAGN,KACJ,6BACGG,KAAKf,MAAMyD,SAAS4C,KAAI,SAAC1B,EAASnB,GAAV,OAEvB,aADA,CACC,EAAD,CACEtD,KAAMyE,EAEN/D,IAAK,EAAKZ,MAAMY,IAChBwF,IAAK,EAAKpG,MAAM6D,KAAKL,IAFhB,EAAKxD,MAAMY,IAAM4C,EAAImB,EAAQnE,oB,GAtThCc,IAAMC,WCGJ+E,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBxE,MAAK,SAAAyE,GACJA,EAAaC,gBAEdjD,OAAM,SAAAkD,GACLhD,QAAQgD,MAAMA,EAAM9C,c","file":"static/js/main.f11dee4a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst img_na =\n  \"https://www.sahilgraphics.com/wp-content/themes/shahil/assets/\" +\n  \"images/image-not-found.jpg\";\n\n// remove time from publishedAt field\nfunction getDate(publishedAt) {\n  //sample pubishedAt format: 2020-11-05T03:22:00Z\n  let sliceTo = publishedAt.indexOf(\"T\");\n  if (sliceTo >= 0) {\n    return publishedAt.slice(0, sliceTo);\n  } else {\n    return publishedAt;\n  }\n}\n\n/* child of root App component and rendered in scrollable div */\n/* contains article data specifics and whether or not the article should be \n   added to the cache when changing tabs */\nexport default class Article extends React.Component {\n  constructor(props) {\n    super(props);\n    // pre-parse and store props json \"info\"\n    this.state = {\n      img_src: props.info.urlToImage,\n      source: props.info.source.name,\n      title: props.info.title,\n      description: props.info.description,\n      url: props.info.url,\n      content: props.info.content,\n      date: getDate(props.info.publishedAt),\n      fullData: props.info, //to be accessed by parent App and added to cache\n      cached: false, //whether article should be saved on next update to App\n      tab: props.tab\n    };\n  }\n\n  // for debugging\n  /*\n  componentDidMount() {\n    console.log(\"new article\");\n  }*/\n\n  /*\n  componentWillUnmount() {\n    console.log(\"destroying article\");\n  }*/\n\n  saveArticle = () => {\n    this.setState({\n      cached: true\n    });\n  };\n\n  /* prettier-ignore */\n  render() {\n    return (\n      <div className=\"article\">\n        <div className=\"article-image\">\n          <img src={this.state.img_src != null ? this.state.img_src : img_na} alt=\"failed to load\"></img>\n        </div>\n        <div className=\"article-content\">\n          <p>\n            <b>{this.state.title + \" | \" + this.state.source + \" | \" + this.state.date}</b> <br/>\n            {this.state.description} <br/>\n          </p>\n          <p>\n            {this.state.content}\n          </p>\n          <p align=\"right\">\n            <a href={this.state.url} target=\"_blank\" rel=\"noreferrer\">\n              original article</a> <br />\n            {this.state.tab ? null :\n              <button onClick={this.saveArticle}>save</button>\n            }\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Article from \"./components/Article\";\n\nconst APIKEY = \"78b9d599c4f94f8fa3afb1a5458928d6\";\nconst PROXY = \"https://cors-anywhere.herokuapp.com/\";\nconst PAGESIZE = 20; //default articles per request defined by NewsAPI\n//const key2 = \"&apiKey=f6d3a364faf54888a77e0bab46b8b66c\"; //free developer key\n\n/* Root component. Contains most of site's functionality */\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [], //data as json objects\n      refs: [], //refs to children, used to check if cache should update\n      tab: false, //\"is currently on saved tab\"\n      cache: [], //json data of currently hidden tab\n      category: \"\",\n      keyword: \"\",\n      US: true,\n      currPage: 1,\n      formValue: \"\", //used for form element / controlled text\n      totalResults: 0, //article count from last request, across ALL pages\n      requests: 0 //# successful requests made so far\n    };\n    this.scrollRef = React.createRef(); //ref to scrollable div element\n  }\n\n  // compose request url from state\n  composeUrl = () => {\n    let url =\n      PROXY +\n      \"https://newsapi.org/v2/top-headlines?\" +\n      \"apiKey=\" +\n      APIKEY +\n      (this.state.US ? \"&country=us\" : \"\") +\n      \"&pageSize=\" +\n      PAGESIZE +\n      \"&page=\" +\n      this.state.currPage +\n      \"&category=\" +\n      this.state.category;\n    if (this.state.keyword !== \"\") {\n      url += \"&q=\" + this.state.keyword;\n    }\n    return url;\n  };\n\n  // uses curr. state search params to make new request and store new data\n  /* if App state is changed immediately before this is called, getNews must be \n     used as a setState callback, as setState is asynchronous */\n  getNews = () => {\n    //avoid null category request\n    if (this.state.category !== \"\") {\n      let h = new Headers();\n      h.append(\"Accept\", \"application/json\");\n      let reqUrl = this.composeUrl();\n      let req = new Request(reqUrl, {\n        method: \"GET\",\n        headers: h,\n        mode: \"cors\"\n      });\n\n      fetch(req)\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            throw new Error(\"faulty response status \" + response.status);\n          }\n        })\n        .then(jsonData => {\n          // first update cache\n          if (this.state.tab) {\n            this.toggleTab();\n          }\n          let newCache = this.updateCache();\n\n          // create new refs and store along with new data\n          let totalCount = jsonData.totalResults;\n          let articleData = [];\n          let newRefs = [];\n          //note: articles.length <= PAGESIZE\n          for (let i = 0; i < jsonData.articles.length; i++) {\n            articleData.push(jsonData.articles[i]);\n            newRefs.push(React.createRef());\n          }\n          this.setState(\n            {\n              articles: articleData,\n              refs: newRefs,\n              totalResults: totalCount,\n              requests: this.state.requests + 1,\n              cache: newCache\n            },\n            () => (this.scrollRef.current.scrollTop = 0) //reset scrollable div\n          );\n        })\n        .catch(err => {\n          console.log(\"ERROR: \", err.message);\n        });\n    }\n  };\n\n  // iterate through current article refs, cache ones with state.cached = true\n  // lazily called before changing tab or making a new request\n  updateCache = () => {\n    if (this.state.tab) {\n      return this.state.cache;\n    } else {\n      let newCache = [];\n      let seen = new Set();\n      let numEntries = 0;\n      // new entries\n      for (\n        let i = 0;\n        numEntries < PAGESIZE && i < this.state.refs.length;\n        i++\n      ) {\n        let article = this.state.refs[i].current;\n        if (article.state.cached) {\n          newCache.push(article.state.fullData);\n          seen.add(article.state.url);\n          numEntries++;\n        }\n      }\n      // old entries\n      for (\n        let i = 0;\n        numEntries < PAGESIZE && i < this.state.cache.length;\n        i++\n      ) {\n        let data = this.state.cache[i];\n        if (seen.has(data.url)) {\n          // avoid duplicates\n          // console.log(\"deleted old save entry\");\n        } else {\n          newCache.push(data);\n          numEntries++;\n        }\n      }\n      return newCache;\n    }\n  };\n\n  clearCache = () => {\n    if (this.state.tab) {\n      this.setState({\n        articles: []\n      });\n    }\n  };\n\n  // change between saved article and search results tab\n  toggleTab = () => {\n    let newCache = this.updateCache();\n    this.setState({\n      articles: newCache,\n      tab: !this.state.tab,\n      cache: this.state.articles\n    });\n  };\n\n  // search button functions\n  categoryBtn = cat => {\n    this.setState(\n      {\n        category: cat,\n        currPage: 1,\n        keyword: \"\"\n      },\n      this.getNews\n    );\n  };\n\n  pageDecr = () => {\n    if (this.state.currPage > 1) {\n      this.setState(\n        {\n          currPage: this.state.currPage - 1\n        },\n        this.getNews\n      );\n    }\n  };\n\n  pageIncr = () => {\n    if (this.state.currPage < Math.ceil(this.state.totalResults / PAGESIZE)) {\n      this.setState(\n        {\n          currPage: this.state.currPage + 1\n        },\n        this.getNews\n      );\n    }\n  };\n\n  toggleCountry = () => {\n    this.setState(\n      {\n        US: !this.state.US\n      },\n      this.getNews\n    );\n  };\n\n  // Form fxs (integrates HTML form w/React state, using controlled text)\n  handleChange = event => {\n    this.setState({ formValue: event.target.value });\n  };\n\n  handleSubmit = event => {\n    if (this.state.formValue !== \"\") {\n      this.setState(\n        {\n          keyword: this.state.formValue,\n          formValue: \"\",\n          currPage: 1\n        },\n        this.getNews\n      );\n    }\n    event.preventDefault();\n  };\n\n  clearKeyword = () => {\n    this.setState({ keyword: \"\" }, this.getNews);\n  };\n\n  render() {\n    return (\n      <div>\n        {/* Main category buttons */}\n        <div align=\"center\">\n          <button\n            className=\"styled categoryBtn\"\n            onClick={() => this.categoryBtn(\"entertainment\")}\n          >\n            Entertainment\n          </button>\n          <button\n            className=\"styled categoryBtn\"\n            onClick={() => this.categoryBtn(\"sports\")}\n          >\n            Sports\n          </button>\n          <button\n            className=\"styled categoryBtn\"\n            onClick={() => this.categoryBtn(\"technology\")}\n          >\n            Technology\n          </button>\n        </div>\n\n        <div className=\"controlbar\">\n          {/* previous/next page buttons */}\n          <div className=\"prevnext\">\n            {this.state.tab ? null : this.state.currPage === 1 ? null : (\n              <button onClick={this.pageDecr} className=\"styled\">\n                prev\n              </button>\n            )}\n            {this.state.tab ? null : this.state.currPage >=\n              Math.ceil(this.state.totalResults / PAGESIZE) ? null : (\n              <button onClick={this.pageIncr} className=\"styled\">\n                next\n              </button>\n            )}\n          </div>\n\n          {/* keyword form + country filter */}\n          <div className=\"searchbar\">\n            <form onSubmit={this.handleSubmit}>\n              <input\n                type=\"text\"\n                style={{ marginLeft: 10, marginRight: 10 }}\n                value={this.state.formValue}\n                onChange={this.handleChange}\n              ></input>\n              <input type=\"submit\" value=\"Add keyword\"></input>\n              <button onClick={this.clearKeyword}>Clear Filters</button>\n              <button onClick={this.toggleCountry}>\n                {this.state.US ? \"Intl.\" : \"U.S.\"}\n              </button>\n            </form>\n            {this.state.keyword} <br />\n          </div>\n\n          {/* toggle tab + clear cache buttons */}\n          <div className=\"tab\">\n            {this.state.tab ? (\n              <button onClick={this.clearCache} className=\"styled\">\n                Clear\n              </button>\n            ) : null}\n            <button onClick={this.toggleTab} className=\"styled\">\n              {this.state.tab ? \"Search results\" : \"Saved articles\"}\n            </button>\n          </div>\n        </div>\n\n        {/* articles (output div) */}\n        <div className=\"scrollable\" ref={this.scrollRef}>\n          {this.state.articles.length === 0 ? (\n            <h2>\n              <b>\n                {this.state.requests === 0\n                  ? \"Click a category to begin\"\n                  : this.state.tab\n                  ? \"No saved articles\"\n                  : \"No results found\"}\n              </b>\n            </h2>\n          ) : null}\n          <ul>\n            {this.state.articles.map((article, i) => (\n              /* store reference to */\n              <Article\n                info={article}\n                key={this.state.tab + i + article.url}\n                tab={this.state.tab}\n                ref={this.state.refs[i]}\n              />\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}